




/**
 * Used for getting messages in user setup profile
 */

export default {
    

    getAllInfo()
    {
          return new Promise((resolve) => {
              axios
                .get("getMyProfile")
                .then(response => {

                  //map response to match tables
                  const jobs_completed = response.data.jobs;
                  
                  let arr_mapped  = jobs_completed.map((elem) => {
                    return {
                      'client_name' : elem.name,
                      'review' : elem.pivot.review,
                      'rating' : elem.pivot.rating,
                      'price' : elem.pivot.price
                    }
                  })
                  


                  resolve(
                    arr_mapped
                  );
                
                })
                .catch(function(error) {
                  console.error(error);
                  // vm.errorToast("Error happened.", "Error!");
                });
          });    

    }
}