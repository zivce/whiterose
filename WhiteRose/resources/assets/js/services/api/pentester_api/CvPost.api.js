




/**
 * Used for getting messages in user setup profile
 */

export default {

    handleCvPosting(vm,validator)
    {



        validator.validateAll().then(form_ok => {
          if (form_ok) {
            
            vm.form_data.append("bio",vm.bio.value);
            vm.form_data.append("skills",vm.skills.value);
            vm.form_data.append("education",vm.education.value);
            
            // {
            //   bio: vm.bio.value,
            //   skills: vm.skills.value,
            //   education: vm.education.value,
            //   avatar: vm.avatar_image
            // }

            // console.log(vm.form_data);
            //TODO : postavi vm.form_data umesto json
            axios
              .post("/postCv", vm.form_data)
              .then(function(response) {
                if(response.status === 200)
                    vm.notifySuccess("Cv posted","Success!");
              })
              .catch(function(error) {
                vm.errorToast("Error happened.", "Error!");
              });
          }
        })
    }
}